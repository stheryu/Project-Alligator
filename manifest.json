{
  "manifest_version": 3,
  "name": "Unified Shopping Cart",
  "version": "0.1.24",
  "description": "Aggregate shopping carts across sites into one dashboard.",
  "permissions": ["storage", "notifications", "alarms", "webRequest"],
  "host_permissions": [
    "*://*.amazon.com/*",
    "*://*.ebay.com/*",
    "*://*.walmart.com/*",
    "*://*.zara.com/*",
    "*://*.shopbop.com/*",
    "*://*.net-a-porter.com/*",
    "*://*.bergdorfgoodman.com/*"
  ],
  "background": { "service_worker": "background.js" },
  "action": { "default_popup": "popup/popup.html" },
  "content_scripts": [
    {
      "matches": ["*://*.shopbop.com/*"],
      "js": ["content-scripts/shopbopAddListener.js"],
      "run_at": "document_idle",
      "all_frames": true
    },
    {
      "matches": ["*://*.amazon.com/*"],
      "js": ["content-scripts/amazonAddListener.js"],
      "run_at": "document_idle",
      "all_frames": true
    },
    {
      "matches": ["*://*.walmart.com/*"],
      "js": ["content-scripts/walmartAddListener.js"],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": ["*://*.zara.com/*"],
      "js": ["content-scripts/zaraAddListener.js"],
      "run_at": "document_idle",
      "all_frames": true
    },
    {
      "matches": ["*://*.ebay.com/*"],
      "js": ["content-scripts/genericAddListener.js"],
      "run_at": "document_idle",
      "all_frames": true
    },

    {
      "matches": ["*://*.net-a-porter.com/*"],
      "js": ["content-scripts/netaporterAddListener.js"],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": ["*://*.bergdorfgoodman.com/*"],
      "js": ["content-scripts/bergdorfAddListener.js"],
      "run_at": "document_idle",
      "all_frames": false
    },

    {
      "matches": [
        "*://*.moojimooji.com/*",
        "*://*.theoutnet.com//*",
        "*://*.farfetch.com/*",
        "*://*.matchesfashion.com/*",
        "*://*.mytheresa.com/*",
        "*://*.ssense.com/*"
        
      ],
      "js": ["content-scripts/genericAddListener.js"],
      "run_at": "document_idle",
      "all_frames": false
    }
  ]
}