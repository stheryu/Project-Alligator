:root{
  --green:#058E3F;
  --mint:#E7F1BC;
  --mint-line:#DDEBB1;
  --pink:#FE5D9F;
  --text:#0F172A;
  --muted:#6B7280;
  --outline:#E5E7EB;

  /* tabs + rail */
  --tab-w: 28px;
  --tab-h: 64px;
  --tab-gap: 3px;
  --rail-w: calc(var(--tab-w) + 16px); /* â† semicolon is important */
  --frame-pad: 14px;                   /* was 16px: keep cards tighter overall */
  --totals-nudge: 0px;

  --btn-h: 40px;

  /* popup width */
  --page-w: clamp(640px, 60vw, 920px);

  /* item helpers (slightly smaller to fit 4 items) */
  --thumb: 110px;          /* was 124px */
  --title-offset: 30px;    /* was 34px */
  --title-gap: 8px;        /* was 10px */
  --tight: 1.10;
  --tighter: 1.05;
  --x-gutter: 36px;        /* was 40px */
}

html,body{
  width:var(--page-w);
  margin:0; padding:0;
  font:14px/1.25 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
  color:var(--text); background:#fff;
}

/* Brand */
.topbar{ display:flex; align-items:center; gap:12px; padding:14px 16px 8px; }
.brand{ display:flex; align-items:center; gap:10px; }
#logo{ width:35px; height:35px; object-fit:contain; }
.name{ font-size:23px; font-weight:800; color:var(--green); }

/* Divider only across content width (not under tabs) */
.divider{
  margin-left:16px;
  width: calc(100% - var(--rail-w) - 32px);
  height:1px; background:var(--mint-line); border-radius:1px;
}

/* Content area with right padding for rail */
.wrap{
  margin: 10px 12px 2px;
  padding-right: var(--rail-w);
}

/* Toolbar */
.toolbar{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; } /* was 10px */
.select-all{ display:flex; align-items:center; gap:10px; }
.select-all input{ width:18px; height:18px; }
.actions{ display:flex; gap:10px; }
.btn{ display:inline-flex; align-items:center; gap:8px; height:var(--btn-h); padding:0 16px; border-radius:10px; font-weight:700; border:1.5px solid transparent; cursor:pointer; }
.btn[disabled]{ opacity:.5; cursor:not-allowed; }
.btn-outline{ color:var(--green); border-color:var(--green); background:#fff; }
.btn-outline:hover{ background:#F6FFF8; }
.btn-danger{ color:#fff; background:var(--pink); border-color:var(--pink); }
.btn-danger:hover{ filter:brightness(.98); }
.caret{ font-size:12px; line-height:0; opacity:.9; }

/* Frame & tabs rail */
.frame-wrap{ position:relative; }
.frame{
  border:1px solid var(--outline);
  border-radius:16px;
  padding:var(--frame-pad);         /* was 16px, now 14px via var */
  background:#fff;
}

/* Tighter rhythm between cards */
#list{ display:flex; flex-direction:column; gap:4px; } /* was 6px */

#frame{
  position: relative;
  overflow: visible;       /* lets tabs stick out */
}

/* Tabs rail hugs the outer box and sticks out to the RIGHT */
#tabs{
  position: absolute;
  top: 8px;
  right: calc(-1 * var(--tab-w) + 1px);
  width: var(--tab-w);
  pointer-events: auto;
}

/* One tab */
#tabs .tab{
  position: relative;
  width: var(--tab-w);
  height: var(--tab-h);
  margin: var(--tab-gap) 0;
  border: 1px solid #D7E2D0;
  border-radius: 0 10px 10px 0;
  background: #E7F1BC;    /* inactive mint */
  cursor: pointer;
}
#tabs .tab.active{
  background: #058E3F;
  border-color: #058E3F;
}
#tabs .tab .label{
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%,-50%) rotate(90deg);
  max-width: calc(var(--tab-h) - 12px);
  white-space: nowrap; overflow: hidden; text-overflow: clip;
  font: 700 11px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  letter-spacing: .3px; text-transform: uppercase;
  color:#0b3d18;
}
#tabs .tab.active .label{ color:#fff; }
#tabs .tab:hover{ filter:brightness(.97); }

/* ---------- Item card: compact, stacked text, safe from X ---------- */

.item{
  position: relative;
  display: grid;
  grid-template-columns: 28px var(--thumb) 1fr; /* checkbox | thumb | text */
  column-gap: 8px;
  padding: 8px 12px 6px;   /* was 10px 12px 10px */
  margin: 3px 0;          /* was 4px 0 */
  border: 1px solid #E5E7EB;
  border-radius: 14px;
  background: #fff;
}

/* Checkbox column */
.item .sel{ align-self: start; }

/* Thumbnail */
.item .thumb{
  width: var(--thumb);
  height: var(--thumb);
  object-fit: cover;
  border-radius: 14px;
  background: #F6F7F8;
  display:block;
}

/* Text column */
.item .meta{
  display:flex;
  flex-direction:column;
  gap:0;
  min-width:0;
  min-height:0;
  padding-right: var(--x-gutter);
  padding-top:0;
  padding-bottom:0;
  text-decoration: none !important;
}

/* Title: calmer */
.item .title{
  color: #374151;
  font-weight: 600;
  font-size: 15px;
  line-height: 1.25;                    /* was 1.28 */
  margin: var(--title-offset) 0 var(--title-gap) 0;  /* title starts a bit lower, smaller gap */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  hyphens: auto;
}

/* Brand / domain / price â€” tight stack */
.item .brand{
  color:#1F2937; font-weight:600; font-size:13px; line-height:var(--tight); margin:0;
}
.item .domain{
  color:#6B7280; font-size:12px; line-height:var(--tight); margin-top:1px;
}
.item .price{
  color:#058E3F; font-weight:600; font-size:14px; line-height:var(--tight); margin-top:3px;
  margin-bottom: 0;
}

/* Corner delete (slightly smaller) */
.item .del{
  position: absolute;
  top: 8px; right: 8px;     /* was 10/10 */
  width: 22px; height: 22px;/* was 24 */
  border-radius: 50%;
  border: 1px solid #D1D5DB;
  background:#fff; color:#374151;
  font-size:15px; line-height:20px; text-align:center; cursor:pointer;
}
.item .del:hover{ background:#F3F4F6; }

/* ---------- Totals ---------- */
.totals{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;

  /* start where card content starts, end before tabs rail */
  margin: 12px calc(var(--rail-w) + var(--frame-pad) + var(--totals-nudge))
          16px var(--frame-pad);

  padding: 0;
  width: auto;
  box-sizing: border-box;
  font-size: 13px;                 /* base size */
}
.totals .left{ font-size: 13px; }

/* right column stacks lines, keeps them right-aligned */
.totals .right{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
}

/* add space between Selected and All (not before the hint) */
.totals .right > :not(.hint) + :not(.hint){
  margin-top: 2px;                 /* tweak to taste */
}

@supports (padding-inline: 1px){
  .totals{ padding-block: 12px 16px; padding-inline: 16px; }
}

/* Emphasis */
#allTotal,
.all-total{
  color: var(--green) !important;
  font-weight: 800;
  font-size: 16px;
}
#selectedTotal,
.selected-total{
  color: var(--muted) !important;   /* normal text color */
  font-weight: 800;
  font-size: 16px;
}
/* Move menu popover */
.menu{
  position: fixed;
  top: -9999px; left: -9999px;
  transform: none;
  min-width:220px; background:#fff; border:1px solid var(--outline);
  border-radius:12px; box-shadow:0 12px 28px rgba(16,24,40,.12); z-index:9999; overflow:hidden;
}
.menu[hidden]{ display:block; }
.menu .mi{ display:flex; align-items:center; gap:10px; padding:10px 12px; cursor:pointer; border-bottom:1px solid #F1F5F9; }
.menu .mi:last-child{ border-bottom:none; }
.menu .mi:hover{ background:#F8FAFC; }
.menu .mi.manage{ font-weight:800; color:var(--green); }

/* Manage modal */
.modal[hidden]{ display:none; }
.modal{ position:fixed; inset:0; z-index:1000; }
.modal-backdrop{ position:absolute; inset:0; background:rgba(15,23,42,.35); z-index:1; }
.modal-card{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:min(560px, 92vw); background:#fff;
  border-radius:16px; border:1px solid #E5E7EB;
  box-shadow:0 20px 40px rgba(15,23,42,.18); z-index:2;
}
.modal-card .row-actions .rm[disabled],
.modal-card .row-actions .rm[aria-disabled="true"]{
  opacity:.45; cursor:not-allowed; pointer-events:none;
}
.modal-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--outline);
}
.modal-title{ font-weight:800; font-size:16px; }
.modal-close{
  width:28px; height:28px; border:1px solid #D1D5DB;
  border-radius:50%; background:#fff; cursor:pointer;
}

.manage-list{ max-height:320px; overflow:auto; padding:8px 12px; }

/* keep title flexible but actions fixed */
.manage-row{
  display:grid;
  grid-template-columns: minmax(0,1fr) auto auto;
  gap:10px; align-items:center;
  padding:8px; border-bottom:1px solid #F1F5F9;
}
.manage-row .nm{
  font-weight:700;
  overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}

/* SHORTER RENAME INPUT so it doesn't hit the actions */
.manage-row input,
.rename-input{
  width: min(240px, 60%);
  height:32px;
  box-sizing:border-box;
  border:1px solid #D1D5DB; border-radius:8px;
  padding:0 8px;
}

/* (optional but helps prevent wrap of action links) */
.manage-row .link{
  color:var(--green); cursor:pointer; white-space:nowrap;
}

.modal-foot{ display:flex; justify-content:space-between; padding:12px 16px; }

/* Manage Lists: drag-reorder visuals */
/* Manage Lists: drag-reorder visuals */
.manage-row{ position: relative; }                 /* allow pseudo lines */
.manage-row[draggable="true"]{ cursor: grab; }
.manage-row.dragging{ opacity:.6; cursor: grabbing; }

.manage-row.drop-before::before,
.manage-row.drop-after::after{
  content:"";
  position:absolute;
  left:8px; right:8px;
  height:2px;
  background:#CBD5E1; /* subtle grey line */
  border-radius:1px;
}
.manage-row.drop-before::before{ top:-1px; }
.manage-row.drop-after::after{  bottom:-1px; }