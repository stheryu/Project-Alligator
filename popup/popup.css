:root{
  --green:#058E3F;
  --mint:#E7F1BC;
  --mint-line:#DDEBB1;
  --pink:#FE5D9F;
  --text:#0F172A;
  --muted:#6B7280;
  --outline:#E5E7EB;

  /* tabs + rail */
  --tab-w: 28px;
  --tab-h: 64px;
  --tab-gap: 3px;
  --rail-w: calc(var(--tab-w) + 16px); /* ← semicolon is important */
  --frame-pad: 16px;                   /* same padding your .frame uses */
  --totals-nudge: 0px;

  --btn-h: 40px;

  /* make the popup a bit wider again */
  --page-w: clamp(640px, 60vw, 920px);

  /* item helpers */
  --thumb: 124px;
  --title-offset: 34px;
  --title-gap: 10px;
  --tight: 1.10;
  --tighter: 1.05;
  --x-gutter: 40px;
}

html,body{
  width:var(--page-w);
  margin:0; padding:0;
  font:14px/1.25 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
  color:var(--text); background:#fff;
}

/* Brand */
.topbar{ display:flex; align-items:center; gap:12px; padding:14px 16px 8px; }
.brand{ display:flex; align-items:center; gap:10px; }
#logo{ width:30px; height:30px; object-fit:contain; }
.name{ font-size:22px; font-weight:800; color:var(--green); }

/* Divider only across content width (not under tabs) */
.divider{
  margin-left:16px;
  width: calc(100% - var(--rail-w) - 32px);
  height:3px; background:var(--mint-line); border-radius:1px;
}

/* Content area with right padding for rail */
.wrap{
  margin: 10px 12px 2px;
  padding-right: var(--rail-w);  /* was 16px */
}

/* Toolbar */
.toolbar{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.select-all{ display:flex; align-items:center; gap:10px; }
.select-all input{ width:18px; height:18px; }
.actions{ display:flex; gap:10px; }
.btn{ display:inline-flex; align-items:center; gap:8px; height:var(--btn-h); padding:0 16px; border-radius:10px; font-weight:700; border:1.5px solid transparent; cursor:pointer; }
.btn[disabled]{ opacity:.5; cursor:not-allowed; }
.btn-outline{ color:var(--green); border-color:var(--green); background:#fff; }
.btn-outline:hover{ background:#F6FFF8; }
.btn-danger{ color:#fff; background:var(--pink); border-color:var(--pink); }
.btn-danger:hover{ filter:brightness(.98); }
.caret{ font-size:12px; line-height:0; opacity:.9; }

/* Frame & tabs rail */
.frame-wrap{ position:relative; }
.frame{
  border:1px solid var(--outline);
  border-radius:16px;
  padding:16px;
  background:#fff;
}

/* CHANGED: tighter vertical rhythm between cards */
#list{ display:flex; flex-direction:column; gap:6px; }

#frame{
  position: relative;
  overflow: visible;       /* lets tabs stick out */
}

/* Tabs rail hugs the outer box and sticks out to the RIGHT */
#tabs{
  position: absolute;
  top: 8px;
  right: calc(-1 * var(--tab-w) + 1px);
  width: var(--tab-w);
  pointer-events: auto;
}

/* One tab */
#tabs .tab{
  position: relative;
  width: var(--tab-w);
  height: var(--tab-h);
  margin: var(--tab-gap) 0;
  border: 1px solid #D7E2D0;
  border-radius: 0 10px 10px 0;
  background: #E7F1BC;    /* inactive mint */
  cursor: pointer;
}
#tabs .tab.active{
  background: #058E3F;
  border-color: #058E3F;
}
#tabs .tab .label{
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%,-50%) rotate(90deg);
  max-width: calc(var(--tab-h) - 12px);
  white-space: nowrap; overflow: hidden; text-overflow: clip;
  font: 700 11px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  letter-spacing: .3px; text-transform: uppercase;
  color:#0b3d18;
}
#tabs .tab.active .label{ color:#fff; }
#tabs .tab:hover{ filter:brightness(.97); }

/* ---------- Item card: compact, stacked text, safe from X ---------- */

.item{
  position: relative;
  display: grid;
  grid-template-columns: 28px var(--thumb) 1fr; /* checkbox | thumb | text */
  /* CHANGED: tighter spacing & margins */
  column-gap: 8px;
  padding: 10px 12px 10px;
  margin: 4px 0;
  border: 1px solid #E5E7EB;
  border-radius: 14px;
  background: #fff;
}

/* Checkbox column */
.item .sel{ align-self: start; }

/* Thumbnail */
.item .thumb{
  width: var(--thumb);
  height: var(--thumb);
  object-fit: cover;
  border-radius: 14px;
  background: #F6F7F8;
  display:block;
  
}

/* Text column */
.item .meta{
  display:flex;
  flex-direction:column;
  gap:0;
  min-width:0;
  min-height:0;                   /* keep it 0 so text doesn't force extra height */
  padding-right: var(--x-gutter);
  padding-top:0;                  /* no vertical padding here */
  padding-bottom:0;
  text-decoration: none !important;
}

/* Title: calmer */
.item .title{
  color: #374151;
  font-weight: 600;
  font-size: 15px;
  line-height: 1.28;
  margin: 0 0 var(--title-gap) 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  margin: var(--title-offset) 0 var(--title-gap) 0;
  overflow: hidden;
  overflow-wrap: anywhere;  /* modern */
  word-break: break-word;   /* fallback */
  hyphens: auto;            /* if dictionaries available */
}

/* Brand / domain / price — tight stack */
.item .brand{
  color:#1F2937; font-weight:600; font-size:13px; line-height:var(--tight); margin:0;line-height: var(--tight);
}
.item .domain{
  color:#6B7280; font-size:12px; line-height:var(--tight); margin-top:2px; line-height: var(--tight);
}
.item .price{
  color:#058E3F; font-weight:600; font-size:14px; line-height:var(--tight); margin-top:4px;
  margin-bottom: 0;
}

/* Corner delete */
.item .del{
  position: absolute;
  top: 10px; right: 10px;
  width: 24px; height: 24px;
  border-radius: 50%;
  border: 1px solid #D1D5DB;
  background:#fff; color:#374151;
  font-size:16px; line-height:22px; text-align:center; cursor:pointer;
}
.item .del:hover{ background:#F3F4F6; }

/* ---------- Totals ---------- */
/* CHANGED: align with the inner edges of the outer grey box and
   respect the right tabs rail so it doesn’t sit under the tabs */
/* Bottom bar aligns with the card edges (same as .frame padding) */
.totals{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;

  /* start where card content starts, end before tabs rail */
  margin: 12px calc(var(--rail-w) + var(--frame-pad) + var(--totals-nudge))
          16px var(--frame-pad);

  padding: 0;            /* no side padding — we align with margins */
  width: auto;
  box-sizing: border-box;
}
.totals .right{ text-align:right; }

@supports (padding-inline: 1px){
  .totals{ padding-block: 12px 16px; padding-inline: 16px; }
}

/* Optional: modern, equivalent shorthand if you prefer */
@supports (padding-inline: 1px){
  .totals{ padding-block: 12px 16px; padding-inline: 16px; }
}
.hint{ color:#6b7280; font-size:12px; padding-top:2px; }
.all-total{ color:var(--green); font-weight:800; }

/* Move menu popover */
.menu{
  position:absolute; top:0; left:0; transform:translate(-9999px,-9999px);
  min-width:220px; background:#fff; border:1px solid var(--outline);
  border-radius:12px; box-shadow:0 12px 28px rgba(16,24,40,.12); z-index:20; overflow:hidden;
}
.menu[hidden]{ display:block; }
.menu .mi{ display:flex; align-items:center; gap:10px; padding:10px 12px; cursor:pointer; border-bottom:1px solid #F1F5F9; }
.menu .mi:last-child{ border-bottom:none; }
.menu .mi:hover{ background:#F8FAFC; }
.menu .mi.new{ font-weight:800; color:var(--green); }
.menu .mi.manage{ color:#334155; }

/* Manage modal */
.modal[hidden]{ display:none; }
.modal{ position:fixed; inset:0; z-index:1000; }
.modal-backdrop{ position:absolute; inset:0; background:rgba(15,23,42,.35); z-index:1; }
.modal-card{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:min(560px, 92vw); background:#fff;
  border-radius:16px; border:1px solid #E5E7EB;
  box-shadow:0 20px 40px rgba(15,23,42,.18); z-index:2;
}
.modal-card .row-actions .rm[disabled],
.modal-card .row-actions .rm[aria-disabled="true"]{ opacity:.45; cursor:not-allowed; pointer-events:none; }
.modal-head{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--outline); }
.modal-title{ font-weight:800; font-size:16px; }
.modal-close{ width:28px; height:28px; border:1px solid #D1D5DB; border-radius:50%; background:#fff; cursor:pointer; }
.manage-list{ max-height:320px; overflow:auto; padding:8px 12px; }
.manage-row{ display:grid; grid-template-columns: 1fr auto auto; gap:10px; align-items:center; padding:8px; border-bottom:1px solid #F1F5F9; }
.manage-row .nm{ font-weight:700; }
.manage-row input{ width:100%; height:32px; border:1px solid #D1D5DB; border-radius:8px; padding:0 8px; }
.manage-row .link{ color:var(--green); cursor:pointer; }
.modal-foot{ display:flex; justify-content:space-between; padding:12px 16px; }